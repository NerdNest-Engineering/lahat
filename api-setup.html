<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" 
        content="default-src 'self';
                 script-src 'self';
                 style-src 'self' 'unsafe-inline';
                 connect-src 'self';
                 img-src 'self';
                 font-src 'self';
                 object-src 'none';
                 base-uri 'none';
                 form-action 'none';">
  <title>API Settings</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="styles/fonts.css">
  <link rel="stylesheet" href="styles/api-setup.css">
</head>
<body>
  <div class="drag-region"></div>
  <div class="window">
    <div class="titlebar">API Settings</div>
    <div class="content">
      <!-- Claude API Key Setup Section -->
      <div id="claude-api-section" class="section">
        <h2>Claude API Setup</h2>
        <div class="api-key-container">
          <input type="password" id="claude-api-key-input" placeholder="Enter your Claude API key" />
          <button id="save-claude-api-key-button">Save Claude API Key</button>
          <button id="clear-claude-api-key-button" class="clear-button" style="display: none;">Clear</button>
        </div>
        <p class="api-key-status" id="claude-api-key-status">API key is not set.</p>
        <div class="api-key-help">
          <p>Required for generating mini apps with Claude AI.</p>
          <p>Get your API key from <a href="#" onclick="window.electronAPI.openExternal('https://console.anthropic.com/')">Anthropic Console</a></p>
        </div>
      </div>

      <!-- OpenAI API Key Setup Section -->
      <div id="openai-api-section" class="section">
        <h2>OpenAI API Setup</h2>
        <div class="api-key-container">
          <input type="password" id="openai-api-key-input" placeholder="Enter your OpenAI API key" />
          <button id="save-openai-api-key-button">Save OpenAI API Key</button>
          <button id="clear-openai-api-key-button" class="clear-button" style="display: none;">Clear</button>
        </div>
        <p class="api-key-status" id="openai-api-key-status">API key is not set.</p>
        <div class="api-key-help">
          <p>Required for generating app logos with DALL-E 3.</p>
          <p>Get your API key from <a href="#" onclick="window.electronAPI.openExternal('https://platform.openai.com/api-keys')">OpenAI Platform</a></p>
        </div>
      </div>

      <!-- Security Notice -->
      <div class="security-notice">
        <h3>ðŸ”’ Security Notice</h3>
        <p>API keys are encrypted and stored securely on your device only. They are never shared or transmitted to any third parties.</p>
      </div>

      <!-- Action Buttons -->
      <div class="action-buttons">
        <button id="test-apis-button" class="secondary-button">Test API Connections</button>
        <button id="close-button" class="primary-button">Close</button>
      </div>
    </div>
  </div>

  <script src="renderers/api-setup.js" type="module"></script>
</body>
</html>
